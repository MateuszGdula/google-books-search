(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports={wrapper:"App_wrapper__3JOml"}},19:function(e,t,a){e.exports={form:"Form_form__RgC28"}},2:function(e,t,a){e.exports={listItem__wrapper:"ListItem_listItem__wrapper__hRPaT",listItem__image:"ListItem_listItem__image__2h4BG",listItem__textWrapper:"ListItem_listItem__textWrapper__2uIwE",listItem__title:"ListItem_listItem__title__1u9IK",listItem__description:"ListItem_listItem__description__1qC6q"}},22:function(e,t,a){e.exports=a(47)},4:function(e,t,a){e.exports=a.p+"static/media/no-cover.7f8724d9.jpg"},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),l=a(5),s=a(6),c=a(14),m=a(15),u=a(20),d=a(16),p=a(21),f=a(17),_=a.n(f),g=r.a.createContext(),b=a(18),E=a.n(b),v=a(19),h=a.n(v),I=function(){document.querySelector("button").click()},k=function(){return r.a.createElement(g.Consumer,null,function(e){return r.a.createElement("form",{className:h.a.form,onSubmit:e.buildQueryString},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon"},"Book title:"),r.a.createElement("input",{type:"text",className:"form-input",placeholder:"...",required:!0}),r.a.createElement("button",{className:"btn btn-primary input-group-btn"},"Search")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-radio form-inline"},r.a.createElement("input",{onChange:I,type:"radio",name:"order",value:"relevance",defaultChecked:!0}),r.a.createElement("i",{className:"form-icon"}),"Order by relevance"),r.a.createElement("label",{className:"form-radio form-inline"},r.a.createElement("input",{onChange:I,type:"radio",name:"order",value:"newest"}),r.a.createElement("i",{className:"form-icon"}),"Order by newest")))})},w=a(2),y=a.n(w),x=a(4),N=a.n(x),S=function(e){var t=e.title,a=e.cover,n=e.description,o=e.link;return r.a.createElement("li",{className:y.a.listItem__wrapper},r.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:a.thumbnail||N.a,alt:t,className:y.a.listItem__image})),r.a.createElement("div",{className:y.a.listItem__textWrapper},r.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h2",{className:y.a.listItem__title},t)),r.a.createElement("p",{className:y.a.listItem__description},n.length>200?"".concat(n.slice(0,200),".."):n)))};S.defaultProps={cover:N.a,description:"No description available."};var L=S,O=function(){return r.a.createElement(g.Consumer,null,function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,e.infoText),0!==e.books.length?r.a.createElement("ul",null,e.books.map(function(e,t){var a=e.id,n=e.volumeInfo;return r.a.createElement(L,{key:a+t.toString(),title:n.title,cover:n.imageLinks,description:n.description,link:n.infoLink})})):null,e.isLoading?r.a.createElement("div",{className:"loading loading-lg"}):null)})},q={books:[],request:"",isLoading:!1,numberOfBooks:0,infoText:"",errorText:""},j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state=Object(s.a)({},q),a.buildQueryString=function(e){e.preventDefault(),a.setState(q);var t="&q=".concat(encodeURIComponent(document.querySelector("input[type=text]").value)),n="&orderBy=".concat(document.querySelector("input[type=radio]:checked").value),r="https://www.googleapis.com/books/v1/volumes?maxResults=10".concat(t).concat(n);a.setState({isLoading:!0,request:r}),a.sendRequest(r)},a.sendRequest=function(e){E.a.get(e).then(function(e){"items"in e.data?a.setState(function(t){return{books:[].concat(Object(l.a)(t.books),Object(l.a)(e.data.items)),isLoading:!1,numberOfBooks:e.data.totalItems,infoText:"".concat(e.data.totalItems," results found")}}):a.setState({isLoading:!1,infoText:"No results found"})}).catch(function(t){a.setState({errorText:"Error: ".concat(t.message)}),setTimeout(function(){a.sendRequest(e)},1e3)})},a.getMoreData=function(){if(a.state.numberOfBooks!==a.state.books.length&&!a.state.isLoading){var e="".concat(a.state.request,"&startIndex=").concat(a.state.books.length);a.setState({isLoading:!0}),a.sendRequest(e)}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=Object(s.a)({},this.state,{buildQueryString:this.buildQueryString});return r.a.createElement(g.Provider,{value:e},r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("h1",null,"Google books search"),r.a.createElement(k,null),r.a.createElement(O,null)))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",function(){Math.floor(window.innerHeight+window.scrollY)+1>=document.body.offsetHeight&&e.getMoreData()},!1)}}]),t}(r.a.Component);i.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.40deed64.chunk.js.map